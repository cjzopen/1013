<!DOCTYPE html>
<html lang="zh-Hant" view-transition>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="max-image-preview:large">
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/images/favicon.png" type="image/png" sizes="192x192">

  <title>標題</title>
  <meta name="description" content="描述">
  <link rel="canonical" href="https://yourwebsite.com/your-page">

  <meta property="og:title" content="標題">
  <meta property="og:description" content="描述">
  <meta property="og:image" content="https://yourwebsite.com/images/og-image.jpg">
  <meta property="og:url" content="https://yourwebsite.com/your-page">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="zh_TW">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@yourtwitterhandle">
  <meta name="twitter:title" content="標題">
  <meta name="twitter:description" content="描述">
  <meta name="twitter:image" content="https://yourwebsite.com/images/og-image.jpg">

  <!-- Bootstrap 5 CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Local overrides -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<h2>各國關稅與毛利（四象限）</h2>
  <p class="meta">輸入料號、產地、成本、銷售價、銷售金額 → 自動計算原毛利與關稅後毛利，並依平均值分象限。</p>
  <div class="container">
    <div class="row">
      <!-- 主欄：表單與資料列表 -->
      <main class="col-lg-8">
        <div class="card mb-3">
          <div class="card-body">
            <h3 class="h5 mb-2">新增品項</h3>

            <div class="mb-2">
              <label class="form-label">料件編號</label>
              <input id="partInput" class="form-control" placeholder="例：F056210">
            </div>

            <div class="mb-2">
              <label class="form-label">產地（選擇會自動帶入關稅）</label>
              <select id="originInput" class="form-select">
                <option value="">-- 新增國家 --</option>
              </select>
            </div>

            <!-- 新增國家表單（預設隱藏） -->
            <div id="newCountryForm" class="mb-3" style="display: none;">
              <div class="row g-2">
                <div class="col">
                  <label class="form-label">國家名稱</label>
                  <input type="text" id="newCountryName" class="form-control" placeholder="輸入新國家名稱">
                </div>
                <div class="col">
                  <label class="form-label">預設關稅 (%)</label>
                  <input type="number" id="newCountryTariff" class="form-control" step="0.1" placeholder="輸入關稅率">
                </div>
              </div>
            </div>

            <div class="row g-2">
              <div class="col">
                <label class="form-label">成本價（本幣）</label>
                <input id="costInput" class="form-control" type="number" step="0.01" />
              </div>
              <div class="col">
                <label class="form-label">銷售價（本幣）</label>
                <input id="priceInput" class="form-control" type="number" step="0.01" />
              </div>
            </div>

            <div class="mb-2 mt-2">
              <label class="form-label">銷售金額（該料件的銷售額）</label>
              <input id="amountInput" class="form-control" type="number" step="0.01" />
            </div>

            <div class="row g-2 align-items-end mt-2">
              <div class="col-auto">
                <button id="btnAdd" class="btn btn-primary">新增</button>
                <button id="btnClear" class="btn btn-secondary ms-2">清空</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card mb-3">
          <div class="card-body">
            <h3 class="h5 mb-2">資料列表</h3>
            <div id="list" class="list"></div>
          </div>
        </div>
      </main>

      <!-- 側欄：象限統計 -->
      <aside class="col-lg-4">
        <div id="countryEditor"></div>
        <div class="card mb-3">
          <div class="card-body">
            <h3 class="h5 mb-2">象限統計</h3>
            <div class="meta">Q1（高銷售、高毛利）: <span id="q1">0</span></div>
            <div class="meta">Q2（低銷售、高毛利）: <span id="q2">0</span></div>
            <div class="meta">Q3（低銷售、低毛利）: <span id="q3">0</span></div>
            <div class="meta">Q4（高銷售、低毛利）: <span id="q4">0</span></div>
          </div>
        </div>
      </aside>
    </div>

    <!-- 圖表區（整行） -->
    <div class="row">
      <div class="col-12">
        <div class="card mb-3">
          <div class="card-body p-0">
            <canvas id="chartCanvas" width="900" height="520"></canvas>
          </div>
        </div>
      </div>
    </div>

    <footer class="pt-2">說明：原毛利 = (售價 - 成本) / 售價 ×100；關稅後成本 = 成本 × (1 + 關稅%)；關稅後毛利以關稅後成本計算。</footer>
  </div>
<script src="script.js"></script>
</body>
</html>